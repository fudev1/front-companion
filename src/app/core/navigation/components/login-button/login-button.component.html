<div class="h-full">
    @if (!isLoggedIn()) {
        <button
            (click)="login()"
            class="flex items-center p-4 h-full border hover:bg-slate-400 hover:border-slate-800"
        >
            Se connecter avec Discord
        </button>
    } @else {
        <!-- Dropdown button -->
        <button
            (click)="toggleDropdown()"
            class="flex gap-2 items-center p-2 rounded-lg border transition-colors hover:bg-slate-100"
        >
            <img [src]="avatarUrl()" alt="Avatar" class="w-8 h-8 rounded-full border">
            <span class="font-medium">{{ globalName() }}</span>
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
        </button>

        <!-- Dropdown menu -->
        <div
            [class.hidden]="!isDropdownOpen()"
            class="hidden absolute z-50 bg-white rounded-lg border shadow-lg"
        >
            <div class="p-4 border-b">
                <div class="font-medium">{{ globalName() }}</div>
                <div class="text-sm text-gray-500">Connecté avec Discord</div>
            </div>
            <div class="p-2">
                <button
                    (click)="logout()"
                    class="px-4 py-2 w-full text-sm text-left text-red-600 rounded-md transition-colors hover:bg-red-50"
                >
                    Déconnexion
                </button>
            </div>
        </div>
    }

    


    
</div>